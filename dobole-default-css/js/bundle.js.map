{
  "version": 3,
  "sources": ["components/modal.js", "components/tooltips.js", "components/alerts.js", "main.js"],
  "sourcesContent": ["export function initModals() {\r\n  const triggers = document.querySelectorAll('[data-modal-target]');\r\n  let activeModal = null;\r\n  let activeTrigger = null;\r\n\r\n  const openModal = (modal, trigger) => {\r\n    activeModal = modal;\r\n    activeTrigger = trigger;\r\n\r\n    const backdrop = modal.previousElementSibling;\r\n    backdrop.classList.add('show');\r\n    modal.classList.add('show');\r\n    modal.setAttribute('aria-hidden', 'false');\r\n\r\n    // Remove inert/tabindex for focusable elements\r\n    const focusable = modal.querySelectorAll(\r\n      'a[href], button, textarea, input, select, [tabindex]:not([tabindex=\"-1\"])'\r\n    );\r\n    focusable.forEach(el => el.removeAttribute('tabindex'));\r\n    modal.inert = false; // modern browsers\r\n\r\n    const firstEl = focusable[0];\r\n    const lastEl = focusable[focusable.length - 1];\r\n\r\n    firstEl.focus();\r\n\r\n    const trapFocus = e => {\r\n      if (e.key === 'Tab') {\r\n        if (e.shiftKey) {\r\n          if (document.activeElement === firstEl) {\r\n            e.preventDefault();\r\n            lastEl.focus();\r\n          }\r\n        } else {\r\n          if (document.activeElement === lastEl) {\r\n            e.preventDefault();\r\n            firstEl.focus();\r\n          }\r\n        }\r\n      } else if (e.key === 'Escape') {\r\n        closeModal();\r\n      }\r\n    };\r\n\r\n    modal.addEventListener('keydown', trapFocus);\r\n    modal._trapFocusHandler = trapFocus;\r\n\r\n    // Close buttons\r\n    modal.querySelectorAll('.close-btn').forEach(btn =>\r\n      btn.addEventListener('click', closeModal)\r\n    );\r\n\r\n    // Click backdrop\r\n    backdrop.addEventListener('click', closeModal);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    if (!activeModal) return;\r\n\r\n    const modal = activeModal;\r\n    const backdrop = modal.previousElementSibling;\r\n\r\n    backdrop.classList.remove('show');\r\n    modal.classList.remove('show');\r\n    modal.setAttribute('aria-hidden', 'true');\r\n\r\n    // Set inert/tabindex to prevent focus\r\n    const focusable = modal.querySelectorAll(\r\n      'a[href], button, textarea, input, select, [tabindex]:not([tabindex=\"-1\"])'\r\n    );\r\n    focusable.forEach(el => el.setAttribute('tabindex', '-1'));\r\n    modal.inert = true; // modern browsers\r\n\r\n    // Remove trap focus listener\r\n    modal.removeEventListener('keydown', modal._trapFocusHandler);\r\n\r\n    // Restore focus to original trigger\r\n    if (activeTrigger) activeTrigger.focus();\r\n\r\n    activeModal = null;\r\n    activeTrigger = null;\r\n  };\r\n\r\n  triggers.forEach(btn => {\r\n    btn.addEventListener('click', () => {\r\n      const target = document.querySelector(btn.dataset.modalTarget);\r\n      openModal(target, btn);\r\n    });\r\n  });\r\n\r\n  // Initially set all modals as inert\r\n  document.querySelectorAll('.modal').forEach(modal => {\r\n    modal.inert = true;\r\n    const focusable = modal.querySelectorAll(\r\n      'a[href], button, textarea, input, select, [tabindex]:not([tabindex=\"-1\"])'\r\n    );\r\n    focusable.forEach(el => el.setAttribute('tabindex', '-1'));\r\n  });\r\n};", "export function initTooltips() {\r\n  const triggers = document.querySelectorAll('[data-tooltip]');\r\n\r\n  triggers.forEach(trigger => {\r\n    trigger.addEventListener('mouseenter', () => showTooltip(trigger));\r\n    trigger.addEventListener('focus', () => showTooltip(trigger));\r\n    trigger.addEventListener('mouseleave', hideTooltip);\r\n    trigger.addEventListener('blur', hideTooltip);\r\n  });\r\n}\r\n\r\nfunction showTooltip(el) {\r\n  const text = el.getAttribute('data-tooltip');\r\n  const placement = el.getAttribute('data-tooltip-placement') || 'top';\r\n\r\n  const tooltip = document.createElement('div');\r\n  tooltip.className = `tooltip tooltip-${placement}`;\r\n  tooltip.textContent = text;\r\n\r\n  document.body.appendChild(tooltip);\r\n  positionTooltip(el, tooltip, placement);\r\n  tooltip.classList.add('show');\r\n}\r\n\r\nfunction hideTooltip() {\r\n  document.querySelectorAll('.tooltip').forEach(t => t.remove());\r\n}\r\n\r\nfunction positionTooltip(el, tooltip, placement) {\r\n  const rect = el.getBoundingClientRect();\r\n  const ttRect = tooltip.getBoundingClientRect();\r\n  const scrollY = window.scrollY;\r\n  const scrollX = window.scrollX;\r\n\r\n  let top, left;\r\n  switch (placement) {\r\n    case 'bottom':\r\n      top = rect.bottom + 8 + scrollY;\r\n      left = rect.left + rect.width / 2 - ttRect.width / 2 + scrollX;\r\n      break;\r\n    case 'start':\r\n      top = rect.top + rect.height / 2 - ttRect.height / 2 + scrollY;\r\n      left = rect.left - ttRect.width - 8 + scrollX;\r\n      break;\r\n    case 'end':\r\n      top = rect.top + rect.height / 2 - ttRect.height / 2 + scrollY;\r\n      left = rect.right + 8 + scrollX;\r\n      break;\r\n    default: // top\r\n      top = rect.top - ttRect.height - 8 + scrollY;\r\n      left = rect.left + rect.width / 2 - ttRect.width / 2 + scrollX;\r\n  }\r\n\r\n  tooltip.style.top = `${top}px`;\r\n  tooltip.style.left = `${left}px`;\r\n}\r\n", "export function initAlerts() {\r\n  window.showAlert = function(options = {}) {\r\n    const {\r\n      title = 'Alert',\r\n      text = '',\r\n      icon = null,       // 'success', 'error', 'warning'\r\n      confirmText = 'OK',\r\n      cancelText = null\r\n    } = options;\r\n\r\n    const lastFocused = document.activeElement;\r\n\r\n    // Backdrop\r\n    const backdrop = document.createElement('div');\r\n    backdrop.className = 'alert-backdrop';\r\n    document.body.appendChild(backdrop);\r\n\r\n    // Dialog\r\n    const dialog = document.createElement('div');\r\n    dialog.className = 'alert-dialog';\r\n    dialog.setAttribute('role', 'alertdialog');\r\n    dialog.setAttribute('aria-modal', 'true');\r\n    \r\n    const headerClass = icon ? `alert-header alert-${icon}` : 'alert-header';\r\n\r\n    dialog.innerHTML = `\r\n      <div class=\"${headerClass}\">\r\n        <span class=\"alert-icon\"></span>\r\n        <h2 class=\"alert-title\">${title}</h2>\r\n      </div>\r\n      <div class=\"alert-body\">${text}</div>\r\n      <div class=\"alert-footer\">\r\n        ${cancelText ? `<button class=\"btn btn-secondary\" data-alert-cancel>${cancelText}</button>` : ''}\r\n        <button class=\"btn btn-primary\" data-alert-confirm>${confirmText}</button>\r\n      </div>\r\n    `;\r\n    document.body.appendChild(dialog);\r\n\r\n    // Force browser to recognize elements before adding 'open'\r\n    requestAnimationFrame(() => {\r\n      dialog.classList.add('open');\r\n      backdrop.classList.add('open');\r\n    });\r\n\r\n    const focusable = dialog.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\r\n    const first = focusable[0];\r\n    const last = focusable[focusable.length - 1];\r\n\r\n    return new Promise(resolve => {\r\n      function closeAlert(result = true) {\r\n        dialog.classList.remove('open');\r\n        backdrop.classList.remove('open');\r\n\r\n        setTimeout(() => {\r\n          dialog.remove();\r\n          backdrop.remove();\r\n          document.removeEventListener('keydown', handleKey);\r\n          if (lastFocused) lastFocused.focus();\r\n          resolve(result);\r\n        }, 300); // \u05D6\u05DE\u05DF \u05D4\u05D0\u05E0\u05D9\u05DE\u05E6\u05D9\u05D4\r\n      }\r\n\r\n      function handleKey(e) {\r\n        if (e.key === 'Escape') closeAlert(false);\r\n        if (e.key === 'Tab') {\r\n          if (e.shiftKey && document.activeElement === first) {\r\n            e.preventDefault(); last.focus();\r\n          } else if (!e.shiftKey && document.activeElement === last) {\r\n            e.preventDefault(); first.focus();\r\n          }\r\n        }\r\n      }\r\n\r\n      document.addEventListener('keydown', handleKey);\r\n      dialog.querySelector('[data-alert-confirm]').addEventListener('click', () => closeAlert(true));\r\n      const cancelBtn = dialog.querySelector('[data-alert-cancel]');\r\n      if (cancelBtn) cancelBtn.addEventListener('click', () => closeAlert(false));\r\n      backdrop.addEventListener('click', () => closeAlert(false));\r\n\r\n      first.focus();\r\n    });\r\n  };\r\n}", "import { initModals } from './components/modal.js';\r\nimport { initTooltips } from './components/tooltips.js';\r\nimport { initAlerts } from './components/alerts.js';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  initModals();\r\n  initTooltips();\r\n  initAlerts();\r\n});\r\n"],
  "mappings": "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",
  "names": []
}
